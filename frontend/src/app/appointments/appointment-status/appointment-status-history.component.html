<div *ngIf="loading">Loading status history...</div>
<div *ngIf="error" class="error">{{ error }}</div>
<table *ngIf="!loading && !error && history.length > 0" class="status-history-table">
  <thead>
    <tr>
      <th>Changed At</th>
      <th>Old Status</th>
      <th>New Status</th>
      <th>Changed By (UserId)</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let h of history">
      <td>{{ h.changedAt | date:'short' }}</td>
      <td>{{ h.oldStatus || '-' }}</td>
      <td>{{ h.newStatus }}</td>
      <td>{{ h.changedBy || '-' }}</td>
    </tr>
  </tbody>
</table>
<div *ngIf="!loading && !error && history.length === 0">No status history found.</div>
